(this["webpackJsonpweather-traffic-app"]=this["webpackJsonpweather-traffic-app"]||[]).push([[3],{398:function(e,t,a){"use strict";function n(e){var t,a,c="";if("string"===typeof e||"number"===typeof e)c+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(c&&(c+=" "),c+=a);else for(t in e)e[t]&&(c&&(c+=" "),c+=t);return c}t.a=function(){for(var e,t,a=0,c="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(c&&(c+=" "),c+=t);return c}},401:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t),a.d(t,"TrafficWeatherHomePage",(function(){return p}));var n=a(119),c=a(122),i=a(123),s=a(125),r=a(124),o=a(2),l=a.n(o),u=(a(401),a(28));function h(e){return Object(u.jsxs)("div",{className:"date-time-pnl-cls",children:[Object(u.jsx)("input",{type:"date",className:"input-content-cls",min:"2016-03-01",max:"2016-04-08",defaultValue:e.date,onChange:function(t){return e.dateTimeChange(t,"date",e)}}),Object(u.jsx)("input",{type:"time",className:"input-content-cls",defaultValue:e.time,onChange:function(t){return e.dateTimeChange(t,"time",e)}})]})}a(402);var d=a(92),f=a(398);function j(e){var t=e.areaMetaData,a=Object(o.useRef)(null);return Object(u.jsxs)("div",{className:"location-weather-pnl-cls",children:[Object(u.jsxs)("span",{className:"location-list-pnl-cls",children:[Object(u.jsxs)("select",{className:"location-list-cls",id:"location-list",onChange:function(){return e.optionChange(a,t,e)},ref:a,value:e.selectedArea.name,children:[Object(u.jsx)("option",{value:d.selectLocation,children:d.selectLocation},"99999"),t&&t.map((function(e,t){return Object(u.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(u.jsx)("span",{className:Object(f.a)({"loading-spinner-cls":e.loader.isLoading})})]}),Object(u.jsx)("span",{className:"weather-cls",children:e.selectedAreaWeather})]})}a(403);function m(e){var t=e.selectedLocationImage.image,a=t?{backgroundImage:"url("+t+")"}:{};return Object(u.jsxs)("div",{className:"screenshot-pnl-cls",children:[Object(u.jsx)("div",{className:"image-pnl-cls",style:a}),Object(u.jsx)("div",{className:"area-cls",children:e.selectedArea.name})]})}var g=function e(){var t=this;Object(c.a)(this,e),this.dateTimeChange=function(e,t,a){switch(t){case"date":a.dateChanged(e.target.value);break;case"time":a.timeChanged(e.target.value)}a.getAllLocations(),a.getAllLocationImages(),a.setSelectedAreaWeather(d.noData),a.setSelectedArea({name:d.selectLocation}),a.setSelectedLocationImage(!1)},this.locationChange=function(e,a,n){var c=d.noData,i=e.current||"";i=i.value;var s=a.filter((function(e){return e.name===i}));s=s.length&&s[0],n.setSelectedArea(s),c=(c=n.areaWeatherData.filter((function(e){return e.area===i}))).length&&c[0].forecast||d.noData,n.setSelectedAreaWeather(c),t.getNearestLocation(n.areaImageData,s)?n.setSelectedLocationImage(t.getNearestLocation(n.areaImageData,s)):(n.setSelectedArea({name:d.selectLocation}),n.setSelectedLocationImage(!1))},this.getNearestLocation=function(e,a){var n,c=a.label_location,i=c&&Object.keys(c).length&&e&&e.map((function(e,a){var i=e.location,s=t.haversine_distance(i.latitude,i.longitude,c.latitude,c.longitude);return n?s<n.distance&&(n.distance=s,n.index=a):n={distance:s,index:a},e}));return!(!i||!i.length)&&i[n.index]},this.haversine_distance=function(e,t,a,n){var c=e*(Math.PI/180),i=a*(Math.PI/180),s=i-c,r=(t-n)*(Math.PI/180);return 7917.6*Math.asin(Math.sqrt(Math.sin(s/2)*Math.sin(s/2)+Math.cos(c)*Math.cos(i)*Math.sin(r/2)*Math.sin(r/2)))}},p=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=new g;return Object(u.jsxs)(l.a.Fragment,{children:[Object(u.jsx)(h,Object(n.a)(Object(n.a)({},this.props),{},{dateTimeChange:e.dateTimeChange})),Object(u.jsx)(j,Object(n.a)(Object(n.a)({},this.props),{},{optionChange:e.locationChange})),Object(u.jsx)(m,Object(n.a)({},this.props))]})}}]),a}(o.Component);t.default=p}}]);
//# sourceMappingURL=3.f3c67822.chunk.js.map